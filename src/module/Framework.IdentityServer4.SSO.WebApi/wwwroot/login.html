<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="js/oidc/oidc-client.js"></script>
    <script src="js/jquery.min.js"></script>
</head>
<body>
    用户名:<input type="text" id="userName" />
    密码:<input type="text" id="password" />
    <input type="button" value="登录" id="login" />
    <script type="text/javascript">
        var param = {
           userManager:null 
        };
        var index = {
            init: function () {
                index.initOidc();
            },
            /*
             * 初始化oidc相关
             * */
            initOidc: function () {
                var config = {
                    authority: "https://localhost:5001",
                    client_id: "js",
                    redirect_uri: "https://localhost:5003/callback.html",
                    response_type: "code",
                    scope: "openid profile api1",
                    post_logout_redirect_uri: "https://localhost:5003/index.html",
                };
                param.userManager=new Oidc.UserManager(config);
            },

            /*
             * 登录
             * */
            login: function () {
                param.userManager.signinRedirect();
            },
            bindEvent: function () {
                $(document).off('click', '#login').on('click', '#login', index.login);
            }
        };

        $(function () {
            
        });
    </script>
</body>
</html>